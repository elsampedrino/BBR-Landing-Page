---
// Footer component - Dinámico desde configuración
import { getEmpresa, getContacto, getFooter, getTelefonoUrl, getEmailUrl } from '../lib/config';

const empresa = getEmpresa();
const contacto = getContacto();
const footer = getFooter();
const currentYear = new Date().getFullYear();
---

<footer class="bg-bbr-gray-logo text-white">
  <!-- Main Footer -->
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-5">
    <div class="flex flex-col lg:flex-row items-center justify-between gap-5">

      <!-- Bloque 1: Logo + Texto -->
      <div class="flex flex-col md:flex-row items-center gap-3 md:gap-4">
        <img
          src={empresa.logo}
          alt={empresa.nombre}
          class="h-14 w-auto brightness-0 invert"
        />
        <!-- Línea vertical separadora -->
        <div class="hidden md:block w-1.5 h-14 bg-white/60 rounded-full"></div>
        <!-- Línea horizontal en mobile -->
        <div class="md:hidden w-20 h-0.5 bg-white/60 rounded-full"></div>
        <p class="text-white/90 text-center md:text-left max-w-xs text-sm">
          {footer.descripcion}
        </p>
      </div>

      <!-- Bloque 2: Contacto + Referencias -->
      <div class="flex flex-col md:flex-row items-center gap-3 md:gap-4">
        <h4 class="text-base font-light uppercase tracking-wider">{contacto.titulo_seccion}</h4>
        <!-- Línea vertical separadora -->
        <div class="hidden md:block w-1.5 h-16 bg-white/60 rounded-full"></div>
        <!-- Línea horizontal en mobile -->
        <div class="md:hidden w-20 h-0.5 bg-white/60 rounded-full"></div>
        <!-- Datos de contacto en columna -->
        <div class="flex flex-col items-center md:items-start gap-2">
          <a href={getTelefonoUrl()} class="flex items-center gap-2 footer-link">
            <svg class="w-5 h-5 text-bbr-green flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
            </svg>
            <span>{contacto.telefono.display}</span>
          </a>
          <a href={getEmailUrl()} class="flex items-center gap-2 footer-link">
            <svg class="w-5 h-5 text-bbr-green flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
            </svg>
            <span class="text-sm">{contacto.email}</span>
          </a>
          <div class="flex items-center gap-2 text-white/80">
            <svg class="w-5 h-5 text-bbr-green flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
            </svg>
            <span class="text-sm">{contacto.direccion}</span>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Bottom Bar -->
  <div class="border-t border-white/20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3">
      <div class="flex flex-col md:flex-row justify-between items-center gap-2">
        <p class="text-bbr-blue text-sm font-medium text-center md:text-left">
          &copy; {currentYear} {empresa.nombre}. Todos los derechos reservados.
        </p>
        <p class="text-bbr-blue text-sm font-medium">
          Desarrollado por <a href={footer.desarrollado_por.link} class="text-bbr-green hover:underline">{footer.desarrollado_por.nombre}</a>
        </p>
      </div>
    </div>
  </div>
</footer>

<style is:global>
  /* Footer links */
  .footer-link {
    color: rgba(255, 255, 255, 0.8);
    transition: color 0.2s;
  }

  .footer-link:hover {
    color: var(--color-bbr-green);
  }
</style>
